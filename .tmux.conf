# dclaude tmux configuration - transparent mode
# This makes tmux invisible to the user while keeping session persistence

# Fix terminal compatibility
set-option -g default-terminal "screen-256color"
set-option -ga terminal-overrides ",xterm-256color:Tc"

# Fix keyboard input delays - CRITICAL for responsive input
set-option -sg escape-time 0
set-option -g repeat-time 300

# Disable aggressive resizing that can cause input lag
set-window-option -g aggressive-resize off

# Increase client activity monitoring for better responsiveness
set-option -g focus-events on

# Enable scrollback with large history
set-option -g history-limit 50000

# Allow alternate screen (Claude needs it)
set-window-option -g alternate-screen on

# Enable mouse support for iTerm2 native scrollback integration
set-option -g mouse on

# Disable visual bells but pass through audio bells
set-option -g visual-activity off
set-option -g visual-bell off
set-option -g visual-silence off
set-option -g bell-action any

# Unbind all detach keys so users can't accidentally detach
unbind-key d
unbind-key D
unbind-key C-d

# Disable prefix to make tmux transparent
set-option -g prefix None
unbind-key C-b

# Keep terminal title updated
set-option -g set-titles on
set-option -g set-titles-string "Claude Code"

# Show status bar with session name for context
set-option -g status on
set-option -g status-position bottom
set-option -g status-justify centre
set-option -g status-style bg=black,fg=white

# Status bar content - show session name in center
set-option -g status-left ""
set-option -g status-right ""
set-option -g status-format[0] "#[align=centre]Session: #{session_name}"

# When the last pane exits, detach instead of switching sessions
set-option -g detach-on-destroy on

# Pass through all signals
set-option -g remain-on-exit off
